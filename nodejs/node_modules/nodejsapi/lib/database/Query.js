/**
 * Created with IntelliJ IDEA.
 * User: Administrator
 * Date: 7/25/13
 * Time: 1:16 PM
 * To change this template use File | Settings | File Templates.
 */
var HttpCommunication = require("../server/communication/HTTPCommunication.js")

var Query = function (query, options) {
    if (typeof(query) == "string") {
        query = {table:query};
    }
    this.query = query;
    this.options = options;
}

Query.prototype.execute = function (callback) {
    var options = this.options || {};
    options[HttpCommunication.Services.Query.QUERY] = JSON.stringify(this.query);
    HttpCommunication.call(HttpCommunication.Services.QUERY, options, callback);
}

module.exports = Query;
