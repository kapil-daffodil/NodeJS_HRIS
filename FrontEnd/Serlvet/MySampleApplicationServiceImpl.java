package com.mySampleApplication.server;

import com.google.appengine.labs.repackaged.org.json.JSONArray;
import com.google.appengine.labs.repackaged.org.json.JSONException;
import com.google.appengine.labs.repackaged.org.json.JSONObject;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

public class MySampleApplicationServiceImpl extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doPost(req, resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        String uri = req.getRequestURI();
       if (uri.startsWith("/backend/task_manager/currentuser")) {
            resp.getWriter().write("{\"response\":{\"username\":\"rohit.bansal@daffodilsw.com\",\"userid\":1},\"status\":\"ok\",\"code\":200}");
//            resp.getWriter().write("{\"response\":{\"login\":false},\"status\":\"ok\",\"code\":200}");
        } else if (uri.startsWith("/applanestudio/task_manager/view/tasks_list_rohit")) {
            resp.getWriter().write("{\"response\":{\"Server Time\":1164, \"viewid\":\"tasks_list_\", \"source\":\"Tasks\", \"data\":{\"taskmanager_tasks_result_infos\":{\"user_expression_result\":{\"status=3\":false, \"task_status='Month' OR task_status=null\":true, \"status=2\":false}, \"aggregates\":{\"estimate_time\":{\"time\":272, \"timeunit\":{\"__key__\":2, \"unit\":\"Hrs\"}}}}, \"requestid\":\"\", \"taskmanager_tasks\":[                     {\"status=3\":false, \"__key__\":148, \"tagid\":{\"__key__\":8, \"tag\":\"Website\"}, \"taskdate\":\"2013-06-10\", \"status\":{\"__key__\":1, \"name\":\"New\", \"image\":\"inprogress\"}, \"task\":\"Rohit Bansal\", \"task_status='Week' OR task_status=null\":false, \"task_status\":\"Today\", \"last_activity\":\"Last Activity\", \"task_status='Today' OR task_status=null\":true, \"status=2\":false, \"reporter\":{\"__key__\":88, \"name\":\"Rohit   Bansal\"}, \"priority\":\"High\", \"businessfunction_id\":{\"__key__\":2, \"name\":\"Delivery\"}, \"next_activity\":\"Add\", \"task_status='Month' OR task_status=null\":false, \"owner_id\":[                         {\"__key__\":88, \"name\":\"Rohit   Bansal\"}                     ], \"estimate_time\":{\"time\":264, \"timeunit\":{\"__key__\":2, \"unit\":\"Hrs\"}}},                     {\"status=3\":false, \"__key__\":153, \"tagid\":{\"__key__\":4, \"tag\":\"Demo\"}, \"taskdate\":\"2013-06-10\", \"status\":{\"__key__\":1, \"name\":\"New\", \"image\":\"inprogress\"}, \"task\":\"Ashish Jain\", \"task_status='Week' OR task_status=null\":false, \"task_status\":\"Today\", \"last_activity\":\"Last Activity\", \"task_status='Today' OR task_status=null\":true, \"status=2\":false, \"reporter\":{\"__key__\":88, \"name\":\"Rohit   Bansal\"}, \"priority\":\"High\", \"businessfunction_id\":{\"__key__\":2, \"name\":\"Delivery\"}, \"next_activity\":\"Add\", \"task_status='Month' OR task_status=null\":false, \"owner_id\":[                         {\"__key__\":88, \"name\":\"Rohit   Bansal\"}                     ], \"estimate_time\":{\"time\":4, \"timeunit\":{\"__key__\":2, \"unit\":\"Hrs\"}}},                     {\"status=3\":false, \"__key__\":154, \"tagid\":{\"__key__\":4, \"tag\":\"Demo\"}, \"taskdate\":\"2013-06-10\", \"status\":{\"__key__\":1, \"name\":\"New\", \"image\":\"inprogress\"}, \"task\":\"Testing task\", \"task_status='Week' OR task_status=null\":false, \"task_status\":\"Today\", \"last_activity\":\"View Activity\", \"task_status='Today' OR task_status=null\":true, \"status=2\":false, \"reporter\":{\"__key__\":88, \"name\":\"Rohit   Bansal\"}, \"priority\":\"High\", \"businessfunction_id\":{\"__key__\":2, \"name\":\"Delivery\"}, \"next_activity\":\"Add\", \"task_status='Month' OR task_status=null\":false, \"owner_id\":[                         {\"__key__\":88, \"name\":\"Rohit   Bansal\"}                     ], \"estimate_time\":{\"time\":4, \"timeunit\":{\"__key__\":2, \"unit\":\"Hrs\"}}}                 ]}, \"metadata\":{\"defaultrowenable\":true, \"viewactions\":[                     {\"id\":\"add_new_task\", \"viewid\":\"tasks_detail_\", \"actiontypeid\":9, \"attach\":\"On Header\", \"popup\":false, \"confirmselection\":false, \"dynamicview\":0, \"disable\":0, \"label\":\"Add New Task\", \"type\":\"loadview\", \"max_rows\":0, \"close\":true},                     {\"viewid\":\"tasks_detail_\", \"dynamicview\":0, \"label\":\"View Detail\", \"type\":\"loadview\", \"close\":true, \"id\":\"view_details\", \"actiontypeid\":9, \"popup\":false, \"confirmselection\":false, \"attach\":\"On Row\", \"sequence\":100, \"disable\":0, \"filters\":\"__key__={__key__}\"},                     {\"viewid\":\"tasks_progress_details\", \"dynamicview\":0, \"parametermappings\":[                         {\"expression\":\"__key__\", \"parameter\":\"taskid\"}                     ], \"label\":\"Add Progress\", \"type\":\"loadview\", \"max_rows\":0, \"close\":true, \"id\":\"addprogress\", \"actiontypeid\":9, \"popup\":true, \"confirmselection\":false, \"attach\":\"On Row\", \"sequence\":150, \"disable\":0},                     {\"viewid\":\"tasks_progress_list\", \"dynamicview\":0, \"label\":\"View Progress\", \"type\":\"loadview\", \"close\":true, \"id\":\"view_progress\", \"actiontypeid\":9, \"popup\":false, \"confirmselection\":false, \"attach\":\"On Row\", \"sequence\":300, \"disable\":0, \"filters\":\"task_id={__key__}\"},                     {\"viewid\":\"activity_logs_list\", \"dynamicview\":0, \"parametermappings\":[                         {\"expression\":\"__key__\", \"parameter\":\"taskid\"}                     ], \"label\":\"View Activity\", \"type\":\"loadview\", \"close\":true, \"id\":\"viewactivity\", \"actiontypeid\":9, \"popup\":false, \"confirmselection\":false, \"attach\":\"On Row\", \"sequence\":300, \"disable\":0, \"filters\":\"task_id={__key__}\"}                 ], \"query\":{\"module_parameters\":{\"employee_enable\":true, \"aggregates\":[                     {\"expression\":\"estimate_time\", \"aggregate\":\"sum\", \"parameters\":{\"convert_to\":\"'Hrs'\"}, \"type\":\"duration\"}                 ], \"save_filter\":false}, \"columns\":[                     {\"expression\":\"last_activity\", \"required_columns\":[], \"default_value_expression\":\"'View Activity'\"},                     \"taskdate\",                     {\"status\":[\"name\", \"image\"]},                     \"priority\",                     {\"businessfunction_id\":[\"name\"]},                     {\"tagid\":[\"tag\"]},                     \"task\",                     {\"expression\":\"next_activity\", \"required_columns\":[], \"default_value_expression\":\"'Add'\"},                     {\"expression\":\"estimate_time\", \"parameters\":{\"convert_to\":\"'Hrs'\"}, \"type\":\"duration\"},                     {\"owner_id\":[\"name\"]},                     {\"reporter\":[\"name\"], \"required_columns\":[], \"default_value_expression\":\"com.applane.resourceoriented.crm.CrmUtility.getDefaultUserEmail()\"},                     \"task_status\",                     {\"expression\":\"task_status='Today' OR task_status=null\", \"required_columns\":[\"task_status\"], \"type\":\"__ue__\"},                     {\"expression\":\"today_time\", \"type\":\"time\"},                     {\"expression\":\"task_status='Week' OR task_status=null\", \"required_columns\":[\"task_status\"], \"type\":\"__ue__\"},                     \"week_day\",                     {\"expression\":\"task_status='Month' OR task_status=null\", \"required_columns\":[\"task_status\"], \"type\":\"__ue__\"},                     \"month_date\",                     {\"expression\":\"status=3\", \"required_columns\":[\"status\"], \"type\":\"__ue__\"},                     \"close_date\",                     {\"expression\":\"status=2\", \"required_columns\":[\"status\"], \"type\":\"__ue__\"},                     \"completedon\"                 ], \"resource\":\"taskmanager_tasks\", \"absolute_filters\":[                     {\"__default__\":true, \"filters\":\"owner_id IN {_CurrentAccessUsers}\"},                     {\"status\":\"status={status}\"}                 ], \"parameters\":{\"taskdate_filter\":null, \"taskdate\":null, \"status\":1, \"status_filter\":1}, \"max_rows\":5}, \"columns\":[                     {\"expression\":\"status\", \"showonselection\":true, \"defaultrequiredcolumns\":[], \"index\":10, \"width\":30, \"mandatory\":true, \"label\":\"ST\", \"updategroupid\":\"Update Status\", \"type\":\"reference\", \"updatetype\":\"multiple\", \"imagecolumn\":\"image\", \"id\":\"status\", \"reffered_resource_query\":{\"resource\":\"taskmanager_task_type\"}, \"default\":{\"name\":\"'New'\"}, \"reffered_resource_display_expression\":[\"name\"]},                     {\"expression\":\"priority\", \"id\":\"priority\", \"index\":50, \"values\":[                         {\"priority\":\"High\"},                         {\"priority\":\"Medium\"},                         {\"priority\":\"Low\"}                     ], \"width\":100, \"label\":\"Priority\", \"type\":\"select\"},                     {\"expression\":\"businessfunction_id\", \"id\":\"businessfunction_id\", \"index\":100, \"reffered_resource_query\":{\"resource\":\"taskmanager_businessfunctions\"}, \"reffered_resource_display_expression\":[\"name\"], \"width\":200, \"label\":\"Business Function\", \"type\":\"reference\"},                     {\"expression\":\"tagid\", \"id\":\"tagid\", \"index\":110, \"reffered_resource_query\":{\"resource\":\"task_manager_tags\"}, \"reffered_resource_display_expression\":[\"tag\"], \"visibleexpression\":true, \"width\":150, \"label\":\"Tags\", \"type\":\"reference\", \"autosave\":true},                     {\"expression\":\"task\", \"id\":\"task\", \"index\":200, \"autoresize\":true, \"width\":350, \"label\":\"Task\", \"type\":\"textarea\"},                     {\"expression\":\"next_activity\", \"id\":\"next_activity\", \"defaultrequiredcolumns\":[], \"index\":400, \"default\":\"'Add'\", \"visibleexpression\":false, \"width\":250, \"action\":{\"id\":\"tasks_progress_details\", \"viewid\":\"tasks_progress_details\", \"popup\":true, \"parametermappings\":[                         {\"expression\":\"__key__\", \"parameter\":\"taskid\"}                     ], \"label\":\"Progress\", \"type\":\"loadview\", \"max_rows\":0}, \"label\":\"Add Progress\", \"editableexpression\":false, \"sortenabled\":true, \"type\":\"text\"},                     {\"expression\":\"estimate_time\", \"id\":\"estimate_time\", \"alignment\":\"RIGHT\", \"index\":500, \"default\":{\"timeunit\":{\"unit\":\"'Hrs'\"}}, \"width\":150, \"label\":\"Estimated Time\", \"type\":\"duration\"},                     {\"expression\":\"owner_id\", \"id\":\"owner_id\", \"index\":600, \"reffered_resource_query\":{\"resource\":\"hris_employees\"}, \"reffered_resource_display_expression\":[\"name\"], \"width\":200, \"label\":\"Owner\", \"type\":\"multiplereference\"},                     {\"expression\":\"reporter\", \"id\":\"reporter\", \"defaultrequiredcolumns\":[], \"index\":801, \"default\":\"com.applane.resourceoriented.crm.CrmUtility.getDefaultUserEmail()\", \"reffered_resource_query\":{\"resource\":\"hris_employees\"}, \"reffered_resource_display_expression\":[\"name\"], \"width\":150, \"label\":\"Creator\", \"type\":\"reference\"},                     {\"expression\":\"task_status\", \"id\":\"task_status\", \"index\":900, \"values\":[                         {\"task_status\":\"Today\"},                         {\"task_status\":\"Week\"},                         {\"task_status\":\"Month\"},                         {\"task_status\":\"Backlog\"}                     ], \"width\":100, \"label\":\"When\", \"updatetype\":\"multiple\", \"type\":\"select\"},                     {\"expression\":\"today_time\", \"id\":\"today_time\", \"index\":901, \"visibleexpression\":\"task_status='Today' OR task_status=null\", \"width\":150, \"visiblerequiredcolumns\":[\"task_status\"], \"label\":\"Today Time\", \"type\":\"time\"},                     {\"expression\":\"week_day\", \"id\":\"week_day\", \"index\":902, \"values\":[                         {\"week_day\":\"Monday\"},                         {\"week_day\":\"Tuesday\"},                         {\"week_day\":\"Wednesday\"},                         {\"week_day\":\"Thursday\"},                         {\"week_day\":\"Friday\"},                         {\"week_day\":\"Saturday\"},                         {\"week_day\":\"Sunday\"}                     ], \"visibleexpression\":\"task_status='Week' OR task_status=null\", \"width\":150, \"visiblerequiredcolumns\":[\"task_status\"], \"label\":\"Week Day\", \"type\":\"select\"},                     {\"expression\":\"month_date\", \"id\":\"month_date\", \"index\":903, \"visibleexpression\":\"task_status='Month' OR task_status=null\", \"width\":150, \"visiblerequiredcolumns\":[\"task_status\"], \"label\":\"Month Date\", \"sortenabled\":true, \"type\":\"date\"},                     {\"expression\":\"close_date\", \"showonselection\":true, \"index\":909, \"visibleexpression\":\"status=3\", \"width\":100, \"mandatory\":true, \"label\":\"Close Date\", \"updategroupid\":\"Update Status\", \"type\":\"date\", \"sortenabled\":true, \"updatetype\":\"multiple\", \"id\":\"close_date\", \"visiblerequiredcolumns\":[\"status\"], \"editableexpression\":true},                     {\"expression\":\"completedon\", \"id\":\"completedon\", \"showonselection\":true, \"index\":1000, \"visibleexpression\":\"status=2\", \"width\":150, \"visiblerequiredcolumns\":[\"status\"], \"label\":\"Task Done Date\", \"updategroupid\":\"Update Status\", \"sortenabled\":true, \"updatetype\":\"multiple\", \"type\":\"date\"},                     {\"expression\":\"last_activity\", \"id\":\"last_activity\", \"defaultrequiredcolumns\":[], \"default\":\"'View Activity'\", \"visibleexpression\":false, \"width\":150, \"label\":\"Last Activity\", \"sortenabled\":true, \"type\":\"text\"},                     {\"expression\":\"taskdate\", \"id\":\"taskdate\", \"visibleexpression\":false, \"width\":150, \"label\":\"Task Date\", \"sortenabled\":true, \"type\":\"date\"}                 ], \"edit\":true, \"label\":\"Tasks\", \"sortenabled\":true, \"type\":\"table\", \"groupenabled\":true, \"hidecolumnpopup\":true, \"info\":{\"filters\":{\"advanceserchwidget\":{\"filters\":{\"taskdate\":{\"id\":\"taskdate\", \"expression\":\"taskdate\", \"time\":\"1370563200000\", \"metadatalabel\":\"Task Date\", \"label\":\"All\", \"parentid\":\"advanceserchwidget\", \"parameters\":{\"taskdate_filter\":null, \"taskdate\":null}, \"datefiltertype\":\"all\", \"filter\":null}, \"status\":{\"id\":\"status\", \"expression\":\"status\", \"metadatalabel\":\"ST\", \"parentid\":\"advanceserchwidget\", \"label\":\"New\", \"parameters\":{\"status\":1, \"status_filter\":1}, \"filter\":{\"status\":\"status={status}\"}}}}}}, \"breadcrumb\":true, \"id\":\"tasks_list_\", \"rowactions\":[                     {\"viewid\":\"tasks_detail_\", \"dynamicview\":0, \"label\":\"View Detail\", \"type\":\"loadview\", \"close\":true, \"id\":\"view_details\", \"actiontypeid\":9, \"popup\":false, \"confirmselection\":false, \"attach\":\"On Row\", \"sequence\":100, \"disable\":0, \"filters\":\"__key__={__key__}\"},                     {\"viewid\":\"tasks_progress_details\", \"dynamicview\":0, \"parametermappings\":[                         {\"expression\":\"__key__\", \"parameter\":\"taskid\"}                     ], \"label\":\"Add Progress\", \"type\":\"loadview\", \"max_rows\":0, \"close\":true, \"id\":\"addprogress\", \"actiontypeid\":9, \"popup\":true, \"confirmselection\":false, \"attach\":\"On Row\", \"sequence\":150, \"disable\":0},                     {\"viewid\":\"tasks_progress_list\", \"dynamicview\":0, \"label\":\"View Progress\", \"type\":\"loadview\", \"close\":true, \"id\":\"view_progress\", \"actiontypeid\":9, \"popup\":false, \"confirmselection\":false, \"attach\":\"On Row\", \"sequence\":300, \"disable\":0, \"filters\":\"task_id={__key__}\"},                     {\"viewid\":\"activity_logs_list\", \"dynamicview\":0, \"parametermappings\":[                         {\"expression\":\"__key__\", \"parameter\":\"taskid\"}                     ], \"label\":\"View Activity\", \"type\":\"loadview\", \"close\":true, \"id\":\"viewactivity\", \"actiontypeid\":9, \"popup\":false, \"confirmselection\":false, \"attach\":\"On Row\", \"sequence\":300, \"disable\":0, \"filters\":\"task_id={__key__}\"}                 ], \"headeractions\":[                     {\"id\":\"breadcrumb\", \"type\":\"insert\"},                     {\"showimage\":true, \"type\":\"save\", \"accesskey\":\"S\"},                     {\"showonselection\":true, \"showimage\":true, \"type\":\"delete\", \"accesskey\":\"D\"},                     {\"showimage\":true, \"type\":\"refresh\", \"accesskey\":\"R\"},                     {\"direction\":\"right\", \"type\":\"fulltextsearch\"},                     {\"direction\":\"right\", \"type\":\"navigation\"},                     {\"showonselection\":true, \"id\":\"Update When_update\", \"title\":\"Update When\", \"height\":200, \"width\":350, \"label\":\"Update When\", \"updatelineitems\":[                         {\"expression\":\"task_status\", \"id\":\"task_status\", \"index\":900, \"values\":[                             {\"task_status\":\"Today\"},                             {\"task_status\":\"Week\"},                             {\"task_status\":\"Month\"},                             {\"task_status\":\"Backlog\"}                         ], \"width\":150, \"label\":\"When\", \"updatetype\":\"multiple\", \"type\":\"select\", \"askfromuser\":true}                     ], \"updatetype\":\"multiple\", \"type\":\"update\"},                     {\"showonselection\":true, \"id\":\"Update Status_update\", \"title\":\"Update Status\", \"height\":300, \"width\":350, \"label\":\"Update Status\", \"updatelineitems\":[                         {\"expression\":\"status\", \"showonselection\":true, \"defaultrequiredcolumns\":[], \"index\":10, \"width\":150, \"mandatory\":true, \"label\":\"ST\", \"updategroupid\":\"Update Status\", \"type\":\"reference\", \"updatetype\":\"multiple\", \"askfromuser\":true, \"imagecolumn\":\"image\", \"id\":\"status\", \"reffered_resource_query\":{\"resource\":\"taskmanager_task_type\"}, \"default\":{\"name\":\"'New'\"}, \"reffered_resource_display_expression\":[\"name\"]},                         {\"expression\":\"close_date\", \"showonselection\":true, \"index\":909, \"visibleexpression\":\"status=3\", \"width\":150, \"mandatory\":true, \"label\":\"Close Date\", \"updategroupid\":\"Update Status\", \"type\":\"date\", \"sortenabled\":true, \"updatetype\":\"multiple\", \"askfromuser\":true, \"id\":\"close_date\", \"visiblerequiredcolumns\":[\"status\"], \"editableexpression\":true},                         {\"showonselection\":true, \"expression\":\"completedon\", \"index\":1000, \"visibleexpression\":\"status=2\", \"width\":150, \"updategroupid\":\"Update Status\", \"label\":\"Task Done Date\", \"type\":\"date\", \"updatetype\":\"multiple\", \"sortenabled\":true, \"askfromuser\":true, \"id\":\"completedon\", \"visiblerequiredcolumns\":[\"status\"]}                     ], \"updatetype\":\"multiple\", \"type\":\"update\"},                     {\"position\":\"top\", \"id\":\"advanceserchwidget\", \"advancefilters\":[                         {\"expression\":\"taskdate\", \"visible\":true, \"visibleexpression\":true, \"width\":100, \"label\":\"Task Date\", \"parentid\":\"advanceserchwidget\", \"type\":\"datefilter\", \"id\":\"taskdate\", \"default\":\"day\", \"viewable\":\"On\", \"showinpopup\":true, \"sequence\":0, \"filtertype\":\"Expression\"},                         {\"expression\":\"status\", \"id\":\"status\", \"viewable\":\"On\", \"showinpopup\":true, \"reffered_resource_query\":{\"resource\":\"taskmanager_task_type\"}, \"visible\":true, \"reffered_resource_display_expression\":[\"name\"], \"sequence\":10, \"width\":30, \"parentid\":\"advanceserchwidget\", \"label\":\"ST\", \"type\":\"referencefilter\"},                         {\"id\":\"priority\", \"expression\":\"priority\", \"viewable\":\"On\", \"showinpopup\":true, \"values\":[                             {\"priority\":\"High\"},                             {\"priority\":\"Medium\"},                             {\"priority\":\"Low\"}                         ], \"visible\":true, \"sequence\":50, \"width\":100, \"parentid\":\"advanceserchwidget\", \"label\":\"Priority\", \"type\":\"selectfilter\"},                         {\"expression\":\"businessfunction_id\", \"id\":\"businessfunction_id\", \"viewable\":\"On\", \"showinpopup\":true, \"reffered_resource_query\":{\"resource\":\"taskmanager_businessfunctions\"}, \"visible\":true, \"reffered_resource_display_expression\":[\"name\"], \"sequence\":100, \"width\":200, \"parentid\":\"advanceserchwidget\", \"label\":\"Business Function\", \"type\":\"referencefilter\"},                         {\"expression\":\"tagid\", \"id\":\"tagid\", \"viewable\":\"On\", \"showinpopup\":true, \"reffered_resource_query\":{\"resource\":\"task_manager_tags\"}, \"visible\":true, \"reffered_resource_display_expression\":[\"tag\"], \"sequence\":110, \"width\":150, \"parentid\":\"advanceserchwidget\", \"label\":\"Tags\", \"type\":\"referencefilter\"},                         {\"expression\":\"owner_id\", \"id\":\"owner_id\", \"viewable\":\"On\", \"showinpopup\":true, \"reffered_resource_query\":{\"resource\":\"hris_employees\"}, \"visible\":true, \"reffered_resource_display_expression\":[\"name\"], \"sequence\":600, \"width\":200, \"parentid\":\"advanceserchwidget\", \"label\":\"Owner\", \"type\":\"referencefilter\"},                         {\"expression\":\"reporter\", \"id\":\"reporter\", \"viewable\":\"On\", \"showinpopup\":true, \"reffered_resource_query\":{\"resource\":\"hris_employees\"}, \"visible\":true, \"reffered_resource_display_expression\":[\"name\"], \"sequence\":801, \"width\":150, \"parentid\":\"advanceserchwidget\", \"label\":\"Creator\", \"type\":\"referencefilter\"},                         {\"id\":\"task_status\", \"expression\":\"task_status\", \"viewable\":\"On\", \"showinpopup\":true, \"values\":[                             {\"task_status\":\"Today\"},                             {\"task_status\":\"Week\"},                             {\"task_status\":\"Month\"},                             {\"task_status\":\"Backlog\"}                         ], \"visible\":true, \"sequence\":900, \"width\":100, \"parentid\":\"advanceserchwidget\", \"label\":\"When\", \"type\":\"selectfilter\"},                         {\"id\":\"week_day\", \"expression\":\"week_day\", \"viewable\":\"On\", \"showinpopup\":true, \"values\":[                             {\"week_day\":\"Monday\"},                             {\"week_day\":\"Tuesday\"},                             {\"week_day\":\"Wednesday\"},                             {\"week_day\":\"Thursday\"},                             {\"week_day\":\"Friday\"},                             {\"week_day\":\"Saturday\"},                             {\"week_day\":\"Sunday\"}                         ], \"visible\":true, \"sequence\":902, \"width\":150, \"parentid\":\"advanceserchwidget\", \"label\":\"Week Day\", \"type\":\"selectfilter\"},                         {\"id\":\"month_date\", \"expression\":\"month_date\", \"viewable\":\"On\", \"showinpopup\":true, \"visible\":true, \"visibleexpression\":\"task_status='Month' OR task_status=null\", \"sequence\":903, \"visiblerequiredcolumns\":[\"task_status\"], \"width\":100, \"parentid\":\"advanceserchwidget\", \"label\":\"Month Date\", \"type\":\"datefilter\"},                         {\"id\":\"close_date\", \"expression\":\"close_date\", \"viewable\":\"On\", \"showinpopup\":true, \"visible\":true, \"visibleexpression\":\"status=3\", \"sequence\":909, \"visiblerequiredcolumns\":[\"status\"], \"width\":100, \"parentid\":\"advanceserchwidget\", \"label\":\"Close Date\", \"type\":\"datefilter\"},                         {\"id\":\"completedon\", \"expression\":\"completedon\", \"viewable\":\"On\", \"showinpopup\":true, \"visible\":true, \"visibleexpression\":\"status=2\", \"sequence\":1000, \"visiblerequiredcolumns\":[\"status\"], \"width\":100, \"parentid\":\"advanceserchwidget\", \"label\":\"Task Done Date\", \"type\":\"datefilter\"}                     ], \"label\":\"Filters\", \"type\":\"advancesearchwidget\"},                     {\"position\":\"appliedfilters\", \"id\":\"appliedfilters\", \"type\":\"advanceappliedfilters\"},                     {\"position\":\"top\", \"id\":\"advancecolumnwidget\", \"label\":\"Columns\", \"type\":\"advancecolumnwidget\"},                     {\"id\":\"add_new_task\", \"viewid\":\"tasks_detail_\", \"actiontypeid\":9, \"attach\":\"On Header\", \"popup\":false, \"confirmselection\":false, \"dynamicview\":0, \"disable\":0, \"label\":\"Add New Task\", \"type\":\"loadview\", \"max_rows\":0, \"close\":true}                 ], \"source\":\"Tasks\", \"navigation\":true, \"search\":true, \"viewjob\":{}, \"delete\":true, \"insert\":true, \"noofdefaultrow\":1, \"customizeview\":true, \"advance\":true}},\"status\":\"ok\",\"code\":200}");
        }  else if (uri.startsWith("/backend/task_manager/logout")) {
           resp.getWriter().write("{\"logout\":\"true\"}");
       }else if (uri.startsWith("/backend/task_manager/data")) {
            try {
                String queryString = req.getParameter("query");
                if (queryString != null) {
                    JSONObject query = new JSONObject(queryString);
                    String resource = query.getString("resource");
                    if(resource.equals("taskmanager_tasks")){
                        resp.getWriter().write("{\"response\":{\"Server Time\":347,\"taskmanager_tasks_result_infos\":{\"__hasupdatewhennullcolumns__\":true},\"requestid\":\"\",\"taskmanager_tasks\":[{\"status=3\":false,\"__key__\":148,\"tagid\":{\"__key__\":8,\"tag\":\"Website\"},\"taskdate\":\"2013-06-12\",\"status\":{\"__key__\":1,\"name\":\"New\",\"image\":\"inprogress\"},\"task\":\"rohit bansal saving\",\"task_status='Week' OR task_status=null\":true,\"task_status\":\"Week\",\"last_activity\":\"Last Activity\",\"task_status='Today' OR task_status=null\":false,\"status=2\":false,\"reporter\":{\"__key__\":88,\"name\":\"Rohit   Bansal\"},\"priority\":\"High\",\"businessfunction_id\":{\"__key__\":2,\"name\":\"Delivery\"},\"next_activity\":\"Add\",\"task_status='Month' OR task_status=null\":false,\"owner_id\":[{\"__key__\":88,\"name\":\"Rohit   Bansal\"},{\"__key__\":94,\"name\":\"Pawan   Phutela\"},{\"__key__\":141,\"name\":\"Rohit    Wadhwa\"},{\"__key__\":141,\"name\":\"Rohit    Wadhwa\"}],\"estimate_time\":{\"time\":2,\"timeunit\":{\"__key__\":2,\"unit\":\"Hrs\"}}},{\"status=3\":false,\"__key__\":153,\"tagid\":{\"__key__\":8,\"tag\":\"Website\"},\"taskdate\":\"2013-06-12\",\"status\":{\"__key__\":1,\"name\":\"New\",\"image\":\"inprogress\"},\"task\":\"Ashish Jain\",\"task_status='Week' OR task_status=null\":false,\"task_status\":\"Month\",\"last_activity\":\"Last Activity\",\"task_status='Today' OR task_status=null\":false,\"status=2\":false,\"reporter\":{\"__key__\":88,\"name\":\"Rohit   Bansal\"},\"priority\":\"High\",\"businessfunction_id\":{\"__key__\":2,\"name\":\"Delivery\"},\"next_activity\":\"Add\",\"task_status='Month' OR task_status=null\":true,\"owner_id\":[{\"__key__\":88,\"name\":\"Rohit   Bansal\"}],\"estimate_time\":{\"time\":96,\"timeunit\":{\"__key__\":2,\"unit\":\"Hrs\"}}},{\"status=3\":false,\"__key__\":154,\"tagid\":{\"__key__\":4,\"tag\":\"Demo\"},\"taskdate\":\"2013-06-13\",\"status\":{\"__key__\":1,\"name\":\"New\",\"image\":\"inprogress\"},\"task\":\"Testing task\",\"task_status='Week' OR task_status=null\":false,\"task_status\":\"Today\",\"last_activity\":\"View Activity\",\"task_status='Today' OR task_status=null\":true,\"status=2\":false,\"reporter\":{\"__key__\":88,\"name\":\"Rohit   Bansal\"},\"priority\":\"High\",\"businessfunction_id\":{\"__key__\":2,\"name\":\"Delivery\"},\"next_activity\":\"Add\",\"task_status='Month' OR task_status=null\":false,\"owner_id\":[{\"__key__\":88,\"name\":\"Rohit   Bansal\"}],\"estimate_time\":{\"time\":4,\"timeunit\":{\"__key__\":2,\"unit\":\"Hrs\"}}},{\"__key__\":192,\"status=3\":false,\"tagid\":{\"__key__\":8,\"tag\":\"Website\"},\"taskdate\":\"2013-06-13\",\"status\":{\"__key__\":1,\"name\":\"New\",\"image\":\"inprogress\"},\"task\":\"rohit task\",\"task_status\":\"Today\",\"task_status='Week' OR task_status=null\":false,\"last_activity\":\"View Activity\",\"task_status='Today' OR task_status=null\":true,\"status=2\":false,\"__updatewhennullcolumns__\":[{\"expression\":\"next_activity\",\"alias\":\"next_activity\"},{\"expression\":\"last_activity\",\"alias\":\"last_activity\"}],\"next_activity\":\"Add\",\"priority\":\"High\",\"businessfunction_id\":{\"__key__\":2,\"name\":\"Delivery\"},\"owner_id\":[{\"__key__\":88,\"name\":\"Rohit   Bansal\"}],\"task_status='Month' OR task_status=null\":false,\"estimate_time\":{\"time\":2,\"timeunit\":{\"__key__\":2,\"unit\":\"Hrs\"}}},{\"__key__\":201,\"status=3\":false,\"tagid\":{\"__key__\":4,\"tag\":\"Demo\"},\"taskdate\":\"2013-06-13\",\"status\":{\"__key__\":1,\"name\":\"New\",\"image\":\"inprogress\"},\"task\":\"New task saving\",\"task_status\":\"Today\",\"task_status='Week' OR task_status=null\":false,\"last_activity\":\"View Activity\",\"task_status='Today' OR task_status=null\":true,\"status=2\":false,\"__updatewhennullcolumns__\":[{\"expression\":\"next_activity\",\"alias\":\"next_activity\"},{\"expression\":\"last_activity\",\"alias\":\"last_activity\"}],\"next_activity\":\"Add\",\"priority\":\"High\",\"businessfunction_id\":{\"__key__\":2,\"name\":\"Delivery\"},\"owner_id\":[{\"__key__\":88,\"name\":\"Rohit   Bansal\"}],\"task_status='Month' OR task_status=null\":false,\"estimate_time\":{\"time\":4,\"timeunit\":{\"__key__\":2,\"unit\":\"Hrs\"}}}]},\"status\":\"ok\",\"code\":200}");
                    }
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }


    }